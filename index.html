<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>A-Frame Scene Example</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>

<body style="margin: 0; overflow: hidden;">
  <a-scene embedded arjs="sourceType: webcam;">
    <!-- Управління ресурсами -->
    <a-assets>
      <!-- Текстура -->
      <img id="canestra"
        src="https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/illustration/758px-Canestra_di_frutta_(Caravaggio).jpg"
        crossorigin="anonymous">
      <img id="grid"
        src="https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/uvgrid/UV_Grid_Sm.jpg"
        crossorigin="anonymous">

      <!-- Власний шрифт -->
      <a-asset-item id="font-msdf"
        src="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/mozillavr/mozillavr-msdf.json"></a-asset-item>

      <!-- 3D-моделі -->
      <a-asset-item id="brainstem"
        src="https://cdn.aframe.io/test-models/models/glTF/BrainStem/BrainStem.gltf"></a-asset-item>
      <a-asset-item id="crate-obj" src="https://cdn.aframe.io/test-models/models/obj/crate/crate.obj"></a-asset-item>
      <a-asset-item id="crate-mtl" src="https://cdn.aframe.io/test-models/models/obj/crate/crate.mtl"></a-asset-item>

      <!-- Відео -->
      <video id="city" src="https://cdn.aframe.io/360-video/factory.mp4" autoplay loop="true"
        crossorigin="anonymous"></video>
    </a-assets>

    <!-- Маркер для відображення об'єктів -->
    <a-marker preset="hiro">
      <!-- Фон (замінимо на відеосферу) -->
      <a-videosphere src="#city"></a-videosphere>

      <!-- Тор з анімацією кольору -->
      <a-torus position="-2 1 -5" radius="1.2" src="#grid"
        animation="property: material.color; type: color; from: green; to: red; dur:10000; loop:true">
      </a-torus>

      <!-- Площина з текстурою -->
      <a-plane src="#canestra" width="7" height="7" rotation="-55 0 0" position="-2 -2 -5"></a-plane>

      <!-- Циліндри -->
      <a-cylinder color="yellow" height="2" radius="0.05" position="-2 -1 -5"></a-cylinder>
      <a-cylinder color="blue" height="2" radius="0.05" position="-3 -1 -5"></a-cylinder>

      <!-- Torus Knot з анімацією обертання -->
      <a-torus-knot color="orange" radius="1.2" position="-3 1 -5"
        animation="property: rotation; to: 0 0 360; dur:10000; loop:true">
      </a-torus-knot>

      <!-- Площина для тексту -->
      <a-plane src="#grid" width="9" height="2" position="3 1 -9"></a-plane>

      <!-- Текст з власним шрифтом -->
      <a-text value="Вітаємо у браузерній VR!" color="black" width="10" position="-0.5 1 -6" font="#font-msdf"
        negate="false">
      </a-text>

      <!-- Модель OBJ + MTL -->
      <a-obj-model src="#crate-obj" mtl="#crate-mtl" position="2.5 -0.5 -5"></a-obj-model>

      <!-- GLTF модель -->
      <a-gltf-model src="#brainstem" position="2 0.5 -5"></a-gltf-model>

      <!-- Джерело світла -->
      <a-light type="point" intensity="1.5" position="4 0 0"></a-light>
    </a-marker>

    <!-- Маркер hiro -->
    <a-marker preset="hiro">
      <a-torus position="0 0.5 0" radius="1" src="#grid"
        animation="property: rotation; to: 0 360 0; dur:5000; loop:true">
      </a-torus>
    </a-marker>

    <!-- Маркер kanji -->
    <a-marker preset="kanji">
      <a-obj-model src="#crate-obj" mtl="#crate-mtl" position="0 0 0" scale="0.5 0.5 0.5"
        animation="property: rotation; to: 0 360 0; dur:7000; loop:true">
      </a-obj-model>
    </a-marker>

    <!-- Власний маркер (заміни URL або залиш локальний шлях pattern-marker.patt) -->
    <a-marker type="pattern" url="pattern-marker.patt">
      <a-gltf-model src="#brainstem" position="0 0 0" scale="0.02 0.02 0.02"
        animation="property: rotation; to: 0 360 0; dur:8000; loop:true">
      </a-gltf-model>
    </a-marker>

    <!-- Камера AR -->
    <a-entity camera></a-entity>
  </a-scene>
</body>

</html>